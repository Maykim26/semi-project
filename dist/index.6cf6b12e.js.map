{"mappings":"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","sources":["<anon>","js/main.js"],"sourcesContent":["const API_KEY = \"610915e3e6cc4331af1972661b12d75c\";\nlet newsList = [];\nconst menus = document.querySelectorAll(\".menus button\");\nconst side_menus = document.querySelectorAll(\".side-menu-list button\");\nmenus.forEach((menu)=>menu.addEventListener(\"click\", (event)=>getNewsByCategory(event)));\nside_menus.forEach((menu)=>menu.addEventListener(\"click\", (event)=>getNewsByCategory(event)));\nlet url = new URL(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${API_KEY}`);\nlet totalResults = 300;\nlet page = 1;\nconst pageSize = 10;\nconst groupSize = 5;\nconst getNews = async ()=>{\n    try {\n        url.searchParams.set(\"page\", page);\n        url.searchParams.set(\"pageSize\", pageSize);\n        const response = await fetch(url);\n        const data = await response.json();\n        if (response.status === 200) {\n            if (data.articles.length === 0) throw new Error(\"No result for this search\");\n            newsList = data.articles;\n            totalResults = data.totalResults;\n            render();\n            paginationRender();\n        } else throw new Error(data.message);\n    } catch (error) {\n        errorRender(error.message);\n    }\n};\nconst getLatestNews = async ()=>{\n    url = new URL(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${API_KEY}`);\n    getNews();\n};\nconst getNewsByCategory = async (event)=>{\n    const category = event.target.textContent.toLowerCase();\n    url = new URL(`https://newsapi.org/v2/top-headlines?country=us&category=${category}&apiKey=${API_KEY}`);\n    getNews();\n};\nconst getNewsByKeyword = async ()=>{\n    const keyword = document.getElementById(\"search-input\").value;\n    url = new URL(`https://newsapi.org/v2/top-headlines?country=us&q=${keyword}&apiKey=${API_KEY}`);\n    getNews();\n};\nconst render = ()=>{\n    const newsHTML = newsList.map((news)=>`<div class=\"news row\">\n            <div class=\"col-lg-4\">\n                <img class=\"news-img-size\"\n                    src=\"${news.urlToImage || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqEWgS0uxxEYJ0PsOb2OgwyWvC0Gjp8NUdPw&usqp=CAU\"}\" />\n            </div>\n            <div class=\"col-lg-8\">\n                <a class=\"title\" target=\"_blank\" href=\"${news.url}\">${news.title}</a>\n                <p class=\"description\">${news.description == null || news.description == \"\" ? \"\\uB0B4\\uC6A9\\uC5C6\\uC74C\" : news.description.length > 400 ? news.description.substring(0, 400) + \"...\" : news.description}</p>\n        <div class=\"block\">\n                <div class=\"name\">${news.source.name || \"no source\"} \n                </div><div class=\"date\">\n                ${news.publishedAt.slice(0, 10)}   ${moment(news.publishedAt.slice(0, 10) // \"2024-04-18\" 부분을 추출하여 moment 함수에 전달\n        ).fromNow()}</div>\n            </div></div>\n        </div>\n`).join(\"\");\n    document.getElementById(\"news-board\").innerHTML = newsHTML;\n};\ngetLatestNews();\nrender();\nconst errorRender = (errorRender)=>{\n    const errorHTML = `<div class=\"alert alert-danger\" role=\"alert\">\n    ${errorRender}\n    </div>`;\n    document.getElementById(\"news-board\").innerHTML = errorHTML;\n};\nconst paginationRender = ()=>{\n    const totalPages = Math.ceil(totalResults / pageSize); // 총 페이지 수\n    const pageGroup = Math.ceil(page / groupSize); // 현재 페이지 그룹\n    let paginationHTML = ``;\n    let lastPage = pageGroup * groupSize; // 현재 그룹의 마지막 페이지\n    if (lastPage > totalPages) lastPage = totalPages;\n    let firstPage = lastPage - (groupSize - 1) <= 0 ? 1 : lastPage - (groupSize - 1); // 현재 그룹의 첫 페이지\n    // **이전 그룹으로 이동 버튼**\n    if (page > 1) // 이전 페이지 버튼 활성화 조건 추가\n    paginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${firstPage})\">\n                                <a class=\"page-link\" href=\"#js-bottom\">&lt;&lt; </a>\n                            </li>`;\n    // **이전 그룹으로 이동 버튼**\n    if (page > 1) // 이전 페이지 버튼 활성화 조건 추가\n    paginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${page - 1})\">\n                                <a class=\"page-link\" href=\"#js-bottom\">&lt; </a>\n                            </li>`;\n    // 현재 페이지 그룹의 번호들 렌더링\n    for(let i = firstPage; i <= lastPage; i++)paginationHTML += `<li class=\"page-item ${i === page ? \"active\" : \"\"}\">\n                                <a class=\"page-link\" href=\"#js-bottom\" onclick=\"moveToPage(${i})\">${i}</a>\n                            </li>`;\n    // **다음 그룹으로 이동 버튼**\n    if (page < totalPages) // 다음 페이지 버튼 활성화 조건 추가\n    paginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${page + 1})\">\n                                <a class=\"page-link\" href=\"#js-bottom\"> &gt;</a>\n                            </li>`;\n     // **다음 그룹으로 이동 버튼**\n    if (page < totalPages) // 다음 페이지 버튼 활성화 조건 추가\n    paginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${lastPage})\">\n                                <a class=\"page-link\" href=\"#js-bottom\"> &gt;&gt;</a>\n                            </li>`;\n    // 결과 HTML 적용\n    document.querySelector(\".pagination\").innerHTML = paginationHTML;\n};\nconst moveToPage = (pageNum)=>{\n    page = pageNum;\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n    getNews();\n};\nconst openNav = ()=>{\n    document.getElementById(\"mySidenav\").style.width = \"250px\";\n};\nconst closeNav = ()=>{\n    document.getElementById(\"mySidenav\").style.width = \"0\";\n};\nconst openSearchBox = ()=>{\n    let inputArea = document.getElementById(\"input-area\");\n    if (inputArea.style.display === \"inline\") inputArea.style.display = \"none\";\n    else inputArea.style.display = \"inline\";\n};\n\n//# sourceMappingURL=index.6cf6b12e.js.map\n","const API_KEY = \"610915e3e6cc4331af1972661b12d75c\";\nlet newsList = [];\nconst menus = document.querySelectorAll(\".menus button\");\nconst side_menus = document.querySelectorAll(\".side-menu-list button\");\nmenus.forEach((menu) =>\n\tmenu.addEventListener(\"click\", (event) => getNewsByCategory(event))\n);\nside_menus.forEach((menu) =>\n\tmenu.addEventListener(\"click\", (event) => getNewsByCategory(event))\n);\nlet url = new URL(\n\t`https://newsapi.org/v2/top-headlines?country=us&apiKey=${API_KEY}`\n);\nlet totalResults = 300;\nlet page = 1;\nconst pageSize = 10;\nconst groupSize = 5;\n\nconst getNews = async () => {\n\ttry {\n\t\turl.searchParams.set(\"page\", page);\n\t\turl.searchParams.set(\"pageSize\", pageSize);\n\n\t\tconst response = await fetch(url);\n\n\t\tconst data = await response.json();\n\t\tif (response.status === 200) {\n\t\t\tif (data.articles.length === 0) {\n\t\t\t\tthrow new Error(\"No result for this search\");\n\t\t\t}\n\t\t\tnewsList = data.articles;\n\t\t\ttotalResults = data.totalResults;\n\t\t\trender();\n\t\t\tpaginationRender();\n\t\t} else {\n\t\t\tthrow new Error(data.message);\n\t\t}\n\t} catch (error) {\n\t\terrorRender(error.message);\n\t}\n};\n\nconst getLatestNews = async () => {\n\turl = new URL(\n\t\t`https://newsapi.org/v2/top-headlines?country=us&apiKey=${API_KEY}`\n\t);\n\n\tgetNews();\n};\n\nconst getNewsByCategory = async (event) => {\n\tconst category = event.target.textContent.toLowerCase();\n\turl = new URL(\n\t\t`https://newsapi.org/v2/top-headlines?country=us&category=${category}&apiKey=${API_KEY}`\n\t);\n\tgetNews();\n};\n\nconst getNewsByKeyword = async () => {\n\tconst keyword = document.getElementById(\"search-input\").value;\n\turl = new URL(\n\t\t`https://newsapi.org/v2/top-headlines?country=us&q=${keyword}&apiKey=${API_KEY}`\n\t);\n\tgetNews();\n};\n\nconst render = () => {\n\tconst newsHTML = newsList\n\t\t.map(\n\t\t\t(news) => `<div class=\"news row\">\n            <div class=\"col-lg-4\">\n                <img class=\"news-img-size\"\n                    src=\"${\n\t\t\t\tnews.urlToImage ||\n\t\t\t\t\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqEWgS0uxxEYJ0PsOb2OgwyWvC0Gjp8NUdPw&usqp=CAU\"\n\t\t\t}\" />\n            </div>\n            <div class=\"col-lg-8\">\n                <a class=\"title\" target=\"_blank\" href=\"${news.url}\">${\n\t\t\t\tnews.title\n\t\t\t}</a>\n                <p class=\"description\">${\n\t\t\tnews.description == null || news.description == \"\"\n\t\t\t\t? \"내용없음\"\n\t\t\t\t: news.description.length > 400\n\t\t\t\t? news.description.substring(0, 400) + \"...\"\n\t\t\t\t: news.description\n\t\t}</p>\n        <div class=\"block\">\n                <div class=\"name\">${news.source.name || \"no source\"} \n                </div><div class=\"date\">\n                ${news.publishedAt.slice(0, 10)}   ${moment(\n\t\t\t\tnews.publishedAt.slice(0, 10) // \"2024-04-18\" 부분을 추출하여 moment 함수에 전달\n\t\t\t).fromNow()}</div>\n            </div></div>\n        </div>\n`\n\t\t)\n\t\t.join(\"\");\n\tdocument.getElementById(\"news-board\").innerHTML = newsHTML;\n};\n\ngetLatestNews();\nrender();\n\nconst errorRender = (errorRender) => {\n\tconst errorHTML = `<div class=\"alert alert-danger\" role=\"alert\">\n    ${errorRender}\n    </div>`;\n\tdocument.getElementById(\"news-board\").innerHTML = errorHTML;\n};\n\nconst paginationRender = () => {\n\tconst totalPages = Math.ceil(totalResults / pageSize); // 총 페이지 수\n\tconst pageGroup = Math.ceil(page / groupSize); // 현재 페이지 그룹\n\tlet paginationHTML = ``;\n\n\tlet lastPage = pageGroup * groupSize; // 현재 그룹의 마지막 페이지\n\tif (lastPage > totalPages) {\n\t\tlastPage = totalPages;\n\t}\n\n\tlet firstPage =\n\t\tlastPage - (groupSize - 1) <= 0\n\t\t\t? 1\n\t\t\t: lastPage - (groupSize - 1); // 현재 그룹의 첫 페이지\n\t// **이전 그룹으로 이동 버튼**\n\tif (page > 1) {\n\t\t// 이전 페이지 버튼 활성화 조건 추가\n\t\tpaginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${firstPage})\">\n                                <a class=\"page-link\" href=\"#js-bottom\">&lt;&lt; </a>\n                            </li>`;\n\t}\n\t// **이전 그룹으로 이동 버튼**\n\tif (page > 1) {\n\t\t// 이전 페이지 버튼 활성화 조건 추가\n\t\tpaginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${\n\t\t\tpage - 1\n\t\t})\">\n                                <a class=\"page-link\" href=\"#js-bottom\">&lt; </a>\n                            </li>`;\n\t}\n\n\t// 현재 페이지 그룹의 번호들 렌더링\n\tfor (let i = firstPage; i <= lastPage; i++) {\n\t\tpaginationHTML += `<li class=\"page-item ${\n\t\t\ti === page ? \"active\" : \"\"\n\t\t}\">\n                                <a class=\"page-link\" href=\"#js-bottom\" onclick=\"moveToPage(${i})\">${i}</a>\n                            </li>`;\n\t}\n\n\t// **다음 그룹으로 이동 버튼**\n\tif (page < totalPages) {\n\t\t// 다음 페이지 버튼 활성화 조건 추가\n\t\tpaginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${\n\t\t\tpage + 1\n\t\t})\">\n                                <a class=\"page-link\" href=\"#js-bottom\"> &gt;</a>\n                            </li>`;\n\t} // **다음 그룹으로 이동 버튼**\n\tif (page < totalPages) {\n\t\t// 다음 페이지 버튼 활성화 조건 추가\n\t\tpaginationHTML += `<li class=\"page-item\" onclick=\"moveToPage(${lastPage})\">\n                                <a class=\"page-link\" href=\"#js-bottom\"> &gt;&gt;</a>\n                            </li>`;\n\t}\n\n\t// 결과 HTML 적용\n\tdocument.querySelector(\".pagination\").innerHTML = paginationHTML;\n};\n\nconst moveToPage = (pageNum) => {\n\tpage = pageNum;\n\twindow.scrollTo({ top: 0, behavior: \"smooth\" });\n\tgetNews();\n};\nconst openNav = () => {\n\tdocument.getElementById(\"mySidenav\").style.width = \"250px\";\n};\n\nconst closeNav = () => {\n\tdocument.getElementById(\"mySidenav\").style.width = \"0\";\n};\n\nconst openSearchBox = () => {\n\tlet inputArea = document.getElementById(\"input-area\");\n\tif (inputArea.style.display === \"inline\") {\n\t\tinputArea.style.display = \"none\";\n\t} else {\n\t\tinputArea.style.display = \"inline\";\n\t}\n};\n"],"names":["API_KEY","newsList","menus","document","querySelectorAll","side_menus","forEach","menu","addEventListener","event","getNewsByCategory","url","URL","totalResults","getNews","searchParams","set","response","fetch","data","json","status","articles","length","Error","render","paginationRender","message","error","errorRender","category","target","textContent","toLowerCase","newsHTML","map","news","urlToImage","title","description","substring","source","name","publishedAt","slice","moment","fromNow","join","getElementById","innerHTML","getLatestNews","errorHTML","totalPages","Math","ceil","paginationHTML","lastPage","pageGroup","page","firstPage","groupSize","i","querySelector"],"version":3,"file":"index.6cf6b12e.js.map"}